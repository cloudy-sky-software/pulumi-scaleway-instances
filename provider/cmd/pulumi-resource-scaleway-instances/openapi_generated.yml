openapi: 3.0.0
components:
  schemas:
    google.protobuf.BoolValue:
      type: boolean
      nullable: true
    google.protobuf.StringValue:
      type: string
      nullable: true
    google.protobuf.UInt32Value:
      type: number
      nullable: true
    scaleway.instance.v1.Arch:
      type: string
      enum:
        - x86_64
        - arm
      default: x86_64
    scaleway.instance.v1.BootType:
      type: string
      enum:
        - local
        - bootscript
        - rescue
      default: local
    scaleway.instance.v1.Bootscript:
      type: object
      properties:
        arch:
          type: string
          description: The bootscript arch
          enum:
            - x86_64
            - arm
          default: x86_64
        bootcmdargs:
          type: string
          description: The bootscript arguments
        default:
          type: boolean
          description: Dispmay if the bootscript is the default bootscript if no other boot option is configured
        dtb:
          type: string
          description: Provide information regarding a Device Tree Binary (dtb) for use with C1 servers
        id:
          type: string
          description: The bootscript ID
        initrd:
          type: string
          description: The initrd (initial ramdisk) configuration
        kernel:
          type: string
          description: The server kernel version
        organization:
          type: string
          description: The bootscript organization ID
        project:
          type: string
          description: The bootscript project ID
        public:
          type: boolean
          description: Provide information if the bootscript is public
        title:
          type: string
          description: The bootscript title
        zone:
          type: string
          description: The zone in which is the bootscript
    scaleway.instance.v1.CreateImageResponse:
      type: object
      properties:
        Location:
          type: string
        image:
          $ref: '#/components/schemas/scaleway.instance.v1.Image'
    scaleway.instance.v1.CreateIpResponse:
      type: object
      properties:
        Location:
          type: string
        ip:
          $ref: '#/components/schemas/scaleway.instance.v1.Ip'
    scaleway.instance.v1.CreatePlacementGroupResponse:
      type: object
      properties:
        placement_group:
          $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup'
    scaleway.instance.v1.CreatePrivateNICResponse:
      type: object
      properties:
        private_nic:
          $ref: '#/components/schemas/scaleway.instance.v1.PrivateNIC'
    scaleway.instance.v1.CreateSecurityGroupResponse:
      type: object
      properties:
        security_group:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroup'
    scaleway.instance.v1.CreateSecurityGroupRuleResponse:
      type: object
      properties:
        rule:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule'
    scaleway.instance.v1.CreateServerResponse:
      type: object
      properties:
        server:
          $ref: '#/components/schemas/scaleway.instance.v1.Server'
    scaleway.instance.v1.CreateSnapshotResponse:
      type: object
      properties:
        snapshot:
          $ref: '#/components/schemas/scaleway.instance.v1.Snapshot'
        task:
          $ref: '#/components/schemas/scaleway.instance.v1.Task'
    scaleway.instance.v1.CreateVolumeResponse:
      type: object
      properties:
        Location:
          type: string
        volume:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume'
    scaleway.instance.v1.Dashboard:
      type: object
      properties:
        images_count:
          type: number
        ips_count:
          type: number
        ips_unused:
          type: number
        placement_groups_count:
          type: number
        private_nics_count:
          type: number
        running_servers_count:
          type: number
        security_groups_count:
          type: number
        servers_by_types:
          type: object
          properties:
            <servers_by_typeKey>:
              type: number
          additionalProperties: true
        servers_count:
          type: number
        snapshots_count:
          type: number
        volumes_b_ssd_count:
          type: number
        volumes_b_ssd_total_size:
          type: number
        volumes_count:
          type: number
        volumes_l_ssd_count:
          type: number
        volumes_l_ssd_total_size:
          type: number
    scaleway.instance.v1.ExportSnapshotResponse:
      type: object
      properties:
        task:
          $ref: '#/components/schemas/scaleway.instance.v1.Task'
    scaleway.instance.v1.GetBootscriptResponse:
      type: object
      properties:
        bootscript:
          $ref: '#/components/schemas/scaleway.instance.v1.Bootscript'
    scaleway.instance.v1.GetDashboardResponse:
      type: object
      properties:
        dashboard:
          $ref: '#/components/schemas/scaleway.instance.v1.Dashboard'
    scaleway.instance.v1.GetImageResponse:
      type: object
      properties:
        image:
          $ref: '#/components/schemas/scaleway.instance.v1.Image'
    scaleway.instance.v1.GetIpResponse:
      type: object
      properties:
        ip:
          $ref: '#/components/schemas/scaleway.instance.v1.Ip'
    scaleway.instance.v1.GetPlacementGroupResponse:
      type: object
      properties:
        placement_group:
          $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup'
    scaleway.instance.v1.GetPlacementGroupServersResponse:
      type: object
      properties:
        servers:
          type: array
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroupServer'
    scaleway.instance.v1.GetPrivateNICResponse:
      type: object
      properties:
        private_nic:
          $ref: '#/components/schemas/scaleway.instance.v1.PrivateNIC'
    scaleway.instance.v1.GetSecurityGroupResponse:
      type: object
      properties:
        security_group:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroup'
    scaleway.instance.v1.GetSecurityGroupRuleResponse:
      type: object
      properties:
        rule:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule'
    scaleway.instance.v1.GetServerResponse:
      type: object
      properties:
        server:
          $ref: '#/components/schemas/scaleway.instance.v1.Server'
    scaleway.instance.v1.GetServerTypesAvailabilityResponse:
      type: object
      properties:
        servers:
          type: object
          properties:
            <serverKey>:
              $ref: '#/components/schemas/scaleway.instance.v1.GetServerTypesAvailabilityResponse.Availability'
          additionalProperties: true
    scaleway.instance.v1.GetServerTypesAvailabilityResponse.Availability:
      type: object
      properties:
        availability:
          $ref: '#/components/schemas/scaleway.instance.v1.ServerTypesAvailability'
    scaleway.instance.v1.GetSnapshotResponse:
      type: object
      properties:
        snapshot:
          $ref: '#/components/schemas/scaleway.instance.v1.Snapshot'
    scaleway.instance.v1.GetVolumeResponse:
      type: object
      properties:
        volume:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume'
    scaleway.instance.v1.Image:
      type: object
      required:
        - name
        - root_volume
        - project
      properties:
        arch:
          $ref: '#/components/schemas/scaleway.instance.v1.Arch'
        creation_date:
          type: string
          format: date-time
          description: (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        default_bootscript:
          $ref: '#/components/schemas/scaleway.instance.v1.Bootscript'
        extra_volumes:
          type: object
          properties:
            <extra_volumeKey>:
              $ref: '#/components/schemas/scaleway.instance.v1.Volume'
          additionalProperties: true
        from_server:
          type: string
          readOnly: true
        id:
          type: string
          readOnly: true
        modification_date:
          type: string
          format: date-time
          description: (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        name:
          type: string
        organization:
          type: string
          deprecated: true
        project:
          type: string
        public:
          type: boolean
        root_volume:
          $ref: '#/components/schemas/scaleway.instance.v1.VolumeSummary'
        state:
          $ref: '#/components/schemas/scaleway.instance.v1.Image.State'
        tags:
          type: array
          items:
            type: string
        zone:
          type: string
          readOnly: true
    scaleway.instance.v1.Image.State:
      type: string
      enum:
        - available
        - creating
        - error
      default: available
    scaleway.instance.v1.Ip:
      type: object
      required:
        - project
      properties:
        address:
          type: string
          description: (IPv4 address)
          example: 1.2.3.4
          readOnly: true
        id:
          type: string
          readOnly: true
        organization:
          type: string
          deprecated: true
        project:
          type: string
        reverse:
          $ref: '#/components/schemas/google.protobuf.StringValue'
        server:
          $ref: '#/components/schemas/scaleway.instance.v1.ServerSummary'
        tags:
          type: array
          items:
            type: string
        zone:
          type: string
          readOnly: true
    scaleway.instance.v1.ListBootscriptsResponse:
      type: object
      properties:
        bootscripts:
          type: array
          description: List of bootscripts
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Bootscript'
    scaleway.instance.v1.ListImagesResponse:
      type: object
      properties:
        images:
          type: array
          description: List of images
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Image'
    scaleway.instance.v1.ListIpsResponse:
      type: object
      properties:
        ips:
          type: array
          description: List of ips
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Ip'
    scaleway.instance.v1.ListPlacementGroupsResponse:
      type: object
      properties:
        placement_groups:
          type: array
          description: List of placement groups
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup'
    scaleway.instance.v1.ListPrivateNICsResponse:
      type: object
      properties:
        private_nics:
          type: array
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.PrivateNIC'
    scaleway.instance.v1.ListSecurityGroupRulesResponse:
      type: object
      properties:
        rules:
          type: array
          description: List of security rules
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule'
    scaleway.instance.v1.ListSecurityGroupsResponse:
      type: object
      properties:
        security_groups:
          type: array
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroup'
        total_count:
          type: number
    scaleway.instance.v1.ListServerActionsResponse:
      type: object
      properties:
        actions:
          type: array
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Server.Action'
    scaleway.instance.v1.ListServerUserDataResponse:
      type: object
      properties:
        user_data:
          type: array
          items:
            type: string
    scaleway.instance.v1.ListServersResponse:
      type: object
      properties:
        servers:
          type: array
          description: List of servers
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Server'
    scaleway.instance.v1.ListServersTypesResponse:
      type: object
      properties:
        servers:
          type: object
          description: List of server types
          properties:
            <serverKey>:
              $ref: '#/components/schemas/scaleway.instance.v1.ServerType'
          additionalProperties: true
    scaleway.instance.v1.ListSnapshotsResponse:
      type: object
      properties:
        snapshots:
          type: array
          description: List of snapshots
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Snapshot'
    scaleway.instance.v1.ListVolumesResponse:
      type: object
      properties:
        volumes:
          type: array
          description: List of volumes
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Volume'
    scaleway.instance.v1.ListVolumesTypesResponse:
      type: object
      properties:
        volumes:
          type: object
          description: Map of volume types
          properties:
            <volumeKey>:
              $ref: '#/components/schemas/scaleway.instance.v1.VolumeType'
          additionalProperties: true
    scaleway.instance.v1.NullableStringValue:
      type: string
      nullable: true
    scaleway.instance.v1.PlacementGroup:
      type: object
      required:
        - name
        - project
      properties:
        id:
          type: string
          readOnly: true
        name:
          type: string
          description: The placement group name
        organization:
          type: string
          description: The placement group organization ID
          deprecated: true
        policy_mode:
          $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup.PolicyMode'
        policy_respected:
          type: boolean
          description: Returns true if the policy is respected, false otherwise
          readOnly: true
        policy_type:
          $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup.PolicyType'
        project:
          type: string
          description: The placement group project ID
        tags:
          type: array
          description: The placement group tags
          items:
            type: string
        zone:
          type: string
          description: The zone in which is the placement group
          readOnly: true
    scaleway.instance.v1.PlacementGroup.PolicyMode:
      type: string
      enum:
        - optional
        - enforced
      default: optional
    scaleway.instance.v1.PlacementGroup.PolicyType:
      type: string
      enum:
        - max_availability
        - low_latency
      default: max_availability
    scaleway.instance.v1.PlacementGroupServer:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        policy_respected:
          type: boolean
    scaleway.instance.v1.PrivateNIC:
      type: object
      properties:
        id:
          type: string
          description: The private NIC unique ID
        mac_address:
          type: string
          description: The private NIC MAC address
        private_network_id:
          type: string
          description: The private network where the private NIC is attached
        server_id:
          type: string
          description: The server the private NIC is attached to
        state:
          type: string
          description: The private NIC state
          enum:
            - available
            - syncing
            - syncing_error
          default: available
    scaleway.instance.v1.SecurityGroup:
      type: object
      required:
        - name
        - project
      properties:
        creation_date:
          type: string
          format: date-time
          description: The security group creation date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        description:
          type: string
          description: The security groups description
        enable_default_security:
          type: boolean
          description: True if SMTP is blocked on IPv4 and IPv6. This feature is read only, please open a ticket if you need to make it configurable.
        id:
          type: string
          readOnly: true
        inbound_default_policy:
          type: string
          description: The default inbound policy
          enum:
            - accept
            - drop
          default: accept
        modification_date:
          type: string
          format: date-time
          description: The security group modification date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        name:
          type: string
          description: The security groups name
        organization:
          type: string
          description: The security groups organization ID
          deprecated: true
        organization_default:
          type: boolean
          description: True if it is your default security group for this organization ID
          deprecated: true
        outbound_default_policy:
          type: string
          description: The default outbound policy
          enum:
            - accept
            - drop
          default: accept
        project:
          type: string
          description: The security group project ID
        project_default:
          type: boolean
          description: True if it is your default security group for this project ID
        servers:
          type: array
          description: List of servers attached to this security group
          readOnly: true
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.ServerSummary'
        state:
          type: string
          description: Security group state
          enum:
            - available
            - syncing
            - syncing_error
          default: available
          readOnly: true
        stateful:
          type: boolean
          description: True if the security group is stateful
        tags:
          type: array
          description: The security group tags
          items:
            type: string
        zone:
          type: string
          description: The zone in which is the security group
          readOnly: true
    scaleway.instance.v1.SecurityGroupRule:
      type: object
      properties:
        action:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule.Action'
        dest_port_from:
          $ref: '#/components/schemas/google.protobuf.UInt32Value'
        dest_port_to:
          $ref: '#/components/schemas/google.protobuf.UInt32Value'
        direction:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule.Direction'
        editable:
          type: boolean
        id:
          type: string
        ip_range:
          type: string
          description: (IP network)
          example: 1.2.3.4/32
        position:
          type: number
        protocol:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule.Protocol'
        zone:
          type: string
    scaleway.instance.v1.SecurityGroupRule.Action:
      type: string
      enum:
        - accept
        - drop
      default: accept
    scaleway.instance.v1.SecurityGroupRule.Direction:
      type: string
      enum:
        - inbound
        - outbound
      default: inbound
    scaleway.instance.v1.SecurityGroupRule.Protocol:
      type: string
      enum:
        - TCP
        - UDP
        - ICMP
        - ANY
      default: TCP
    scaleway.instance.v1.SecurityGroupTemplate:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
    scaleway.instance.v1.Server:
      type: object
      properties:
        allowed_actions:
          type: array
          description: Provide as list of allowed actions on the server
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Server.Action'
        arch:
          type: string
          description: The server arch
          enum:
            - x86_64
            - arm
          default: x86_64
        boot_type:
          $ref: '#/components/schemas/scaleway.instance.v1.BootType'
        bootscript:
          $ref: '#/components/schemas/scaleway.instance.v1.Bootscript'
        commercial_type:
          type: string
          description: The server commercial type (eg. GP1-M)
        creation_date:
          type: string
          format: date-time
          description: The server creation date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
        dynamic_ip_required:
          type: boolean
          description: True if a dynamic IP is required
        enable_ipv6:
          type: boolean
          description: True if IPv6 is enabled
        hostname:
          type: string
          description: The server host name
        id:
          type: string
          description: The server unique ID
          readOnly: true
        image:
          $ref: '#/components/schemas/scaleway.instance.v1.Image'
        ipv6:
          type: object
          description: The server IPv6 address
          properties:
            address:
              type: string
              description: The server IPv6 IP-Address (IPv6 address)
              example: 2001:0db8:85a3:0000:0000:8a2e:0370:7334
            gateway:
              type: string
              description: The IPv6 IP-addresses gateway (IPv6 address)
              example: 2001:0db8:85a3:0000:0000:8a2e:0370:7334
            netmask:
              type: string
              description: The IPv6 IP-addresses CIDR netmask
        location:
          type: object
          description: The server location
          properties:
            cluster_id:
              type: string
            hypervisor_id:
              type: string
            node_id:
              type: string
            platform_id:
              type: string
            zone_id:
              type: string
        maintenances:
          type: array
          description: The server planned maintenances
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.Server.Maintenance'
        modification_date:
          type: string
          format: date-time
          description: The server modification date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
        name:
          type: string
          description: The server name
        organization:
          type: string
          description: The server organization ID
        placement_group:
          $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup'
        private_ip:
          type: string
          description: The server private IP address
          nullable: true
        private_nics:
          type: array
          description: The server private NICs
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.PrivateNIC'
        project:
          type: string
          description: The server project ID
        protected:
          type: boolean
          description: The server protection option is activated
        public_ip:
          type: object
          description: Information about the public IP
          properties:
            address:
              type: string
              description: The server public IPv4 IP-Address (IPv4 address)
              example: 1.2.3.4
            dynamic:
              type: boolean
              description: True if the IP address is dynamic
            id:
              type: string
              description: The unique ID of the IP address
        security_group:
          type: object
          description: The server security group
          properties:
            id:
              type: string
            name:
              type: string
        state:
          type: string
          description: The server state
          enum:
            - running
            - stopped
            - stopped in place
            - starting
            - stopping
            - locked
          default: running
        state_detail:
          type: string
          description: The server state_detail
        tags:
          type: array
          description: The server associated tags
          items:
            type: string
        volumes:
          type: object
          description: The server volumes
          properties:
            <volumeKey>:
              $ref: '#/components/schemas/scaleway.instance.v1.VolumeServer'
          additionalProperties: true
        zone:
          type: string
          description: The zone in which is the server
    scaleway.instance.v1.Server.Action:
      type: string
      enum:
        - poweron
        - backup
        - stop_in_place
        - poweroff
        - terminate
        - reboot
      default: poweron
    scaleway.instance.v1.Server.Maintenance:
      type: object
    scaleway.instance.v1.ServerAction.VolumesProperties:
      type: object
      description: |
        For each volume UUID, the snapshot parameters of the volume.
        This field should only be specified when performing a backup action.
      properties:
        <volumeKey>:
          $ref: '#/components/schemas/scaleway.instance.v1.ServerActionRequest.VolumeBackupTemplate'
      additionalProperties: true
    scaleway.instance.v1.ServerActionRequest.VolumeBackupTemplate:
      type: object
      properties:
        volume_type:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume.VolumeType'
    scaleway.instance.v1.ServerActionResponse:
      type: object
      properties:
        task:
          $ref: '#/components/schemas/scaleway.instance.v1.Task'
    scaleway.instance.v1.ServerSummary:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
    scaleway.instance.v1.ServerType:
      type: object
      properties:
        alt_names:
          type: array
          description: Alternative instance name if any
          items:
            type: string
        arch:
          type: string
          description: CPU architecture
          enum:
            - x86_64
            - arm
          default: x86_64
        baremetal:
          type: boolean
          description: True if it is a baremetal instance
        capabilities:
          type: object
          description: Capabilities
          properties:
            block_storage:
              type: boolean
              description: True if server supports block storage
              nullable: true
            boot_types:
              type: array
              description: List of supported boot types
              items:
                $ref: '#/components/schemas/scaleway.instance.v1.BootType'
        gpu:
          type: number
          description: Number of GPU
          nullable: true
        hourly_price:
          type: number
          description: Hourly price in Euro
        monthly_price:
          type: number
          description: Estimated monthly price, for a 30 days month, in Euro
          deprecated: true
        ncpus:
          type: number
          description: Number of CPU
        network:
          type: object
          description: Network available for the instance
          properties:
            interfaces:
              type: array
              description: List of available network interfaces
              items:
                $ref: '#/components/schemas/scaleway.instance.v1.ServerType.Network.Interface'
            ipv6_support:
              type: boolean
              description: True if IPv6 is enabled
            sum_internal_bandwidth:
              type: number
              description: Total maximum internal bandwidth in bits per seconds
              nullable: true
            sum_internet_bandwidth:
              type: number
              description: Total maximum internet bandwidth in bits per seconds
              nullable: true
        per_volume_constraint:
          type: object
          description: Additional volume constraints
          properties:
            l_ssd:
              type: object
              description: Local SSD volumes
              properties:
                max_size:
                  type: number
                  description: Maximum volume size in bytes (in bytes)
                min_size:
                  type: number
                  description: Minimum volume size in bytes (in bytes)
        ram:
          type: number
          description: Available RAM in bytes
        volumes_constraint:
          type: object
          description: Initial volume constraints
          properties:
            max_size:
              type: number
              description: Maximum volume size in bytes (in bytes)
            min_size:
              type: number
              description: Minimum volume size in bytes (in bytes)
    scaleway.instance.v1.ServerType.Network.Interface:
      type: object
      properties:
        internal_bandwidth:
          type: number
          description: Maximum internal bandwidth in bits per seconds
          nullable: true
        internet_bandwidth:
          type: number
          description: Maximum internet bandwidth in bits per seconds
          nullable: true
    scaleway.instance.v1.ServerTypesAvailability:
      type: string
      enum:
        - available
        - scarce
        - shortage
      default: available
    scaleway.instance.v1.SetImageResponse:
      type: object
      properties:
        image:
          $ref: '#/components/schemas/scaleway.instance.v1.Image'
    scaleway.instance.v1.SetPlacementGroupResponse:
      type: object
      properties:
        placement_group:
          $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup'
    scaleway.instance.v1.SetPlacementGroupServersResponse:
      type: object
      properties:
        servers:
          type: array
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroupServer'
    scaleway.instance.v1.SetSecurityGroupResponse:
      type: object
      properties:
        security_group:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroup'
    scaleway.instance.v1.SetSecurityGroupRuleResponse:
      type: object
      properties:
        rule:
          $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule'
    scaleway.instance.v1.SetSecurityGroupRulesRequest.Rule:
      type: object
      properties:
        action:
          type: string
          description: Action to apply when the rule matches a packet
          enum:
            - accept
            - drop
          default: accept
        dest_port_from:
          type: number
          description: Beginning of the range of ports this rule applies to (inclusive). This value will be set to null if protocol is ICMP or ANY
          nullable: true
        dest_port_to:
          type: number
          description: End of the range of ports this rule applies to (inclusive). This value will be set to null if protocol is ICMP or ANY, or if it is equal to dest_port_from
          nullable: true
        direction:
          type: string
          description: Direction the rule applies to
          enum:
            - inbound
            - outbound
          default: inbound
        editable:
          type: boolean
          description: Indicates if this rule is editable. Rules with the value false will be ignored
          nullable: true
        id:
          type: string
          description: UUID of the security rule to update. If no value is provided, a new rule will be created
          nullable: true
        ip_range:
          type: string
          description: The range of IP address this rules applies to (IP network)
          example: 1.2.3.4/32
        position:
          type: number
          description: Position of this rule in the security group rules list. If several rules are passed with the same position, the resulting order is undefined
        protocol:
          type: string
          description: Protocol family this rule applies to
          enum:
            - TCP
            - UDP
            - ICMP
            - ANY
          default: TCP
        zone:
          type: string
          description: Zone of the rule. This field is ignored
          nullable: true
    scaleway.instance.v1.SetSecurityGroupRulesResponse:
      type: object
      properties:
        rules:
          type: array
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule'
    scaleway.instance.v1.SetSnapshotResponse:
      type: object
      properties:
        snapshot:
          $ref: '#/components/schemas/scaleway.instance.v1.Snapshot'
    scaleway.instance.v1.SetVolumeResponse:
      type: object
      properties:
        volume:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume'
    scaleway.instance.v1.Snapshot:
      type: object
      properties:
        base_volume:
          type: object
          description: The volume on which the snapshot is based on
          readOnly: true
          properties:
            id:
              type: string
              description: The volume ID on which the snapshot is based on
            name:
              type: string
              description: The volume name on which the snapshot is based on
        creation_date:
          type: string
          format: date-time
          description: The snapshot creation date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        error_reason:
          type: string
          description: The reason for the failed snapshot import
          nullable: true
          readOnly: true
        id:
          type: string
          readOnly: true
        modification_date:
          type: string
          format: date-time
          description: The snapshot modification date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        name:
          type: string
          description: The snapshot name
        organization:
          type: string
          description: The snapshot organization ID
        project:
          type: string
          description: The snapshot project ID
        size:
          type: number
          description: The snapshot size (in bytes)
        state:
          $ref: '#/components/schemas/scaleway.instance.v1.Snapshot.State'
        tags:
          type: array
          description: The snapshot tags
          items:
            type: string
        volume_type:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume.VolumeType'
        zone:
          type: string
          description: The snapshot zone
          readOnly: true
    scaleway.instance.v1.Snapshot.BaseVolume:
      type: object
      properties:
        id:
          type: string
          description: The volume ID on which the snapshot is based on
        name:
          type: string
          description: The volume name on which the snapshot is based on
    scaleway.instance.v1.Snapshot.State:
      type: string
      enum:
        - available
        - snapshotting
        - error
        - invalid_data
        - importing
        - exporting
      default: available
    scaleway.instance.v1.Task:
      type: object
      properties:
        description:
          type: string
          description: The description of the task
        href_from:
          type: string
        href_result:
          type: string
        id:
          type: string
          description: The unique ID of the task
        progress:
          type: number
          description: The progress of the task in percent
        started_at:
          type: string
          format: date-time
          description: The task start date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
        status:
          type: string
          description: The task status
          enum:
            - pending
            - started
            - success
            - failure
            - retry
          default: pending
        terminated_at:
          type: string
          format: date-time
          description: The task end date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
        zone:
          type: string
          description: The zone in which is the task
    scaleway.instance.v1.UpdateIpResponse:
      type: object
      properties:
        ip:
          $ref: '#/components/schemas/scaleway.instance.v1.Ip'
    scaleway.instance.v1.UpdatePlacementGroupResponse:
      type: object
      properties:
        placement_group:
          $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup'
    scaleway.instance.v1.UpdatePlacementGroupServersResponse:
      type: object
      properties:
        servers:
          type: array
          items:
            $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroupServer'
    scaleway.instance.v1.UpdateServerResponse:
      type: object
      properties:
        server:
          $ref: '#/components/schemas/scaleway.instance.v1.Server'
    scaleway.instance.v1.UpdateVolumeResponse:
      type: object
      properties:
        volume:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume'
    scaleway.instance.v1.Volume:
      type: object
      required:
        - name
        - project
      properties:
        creation_date:
          type: string
          format: date-time
          description: The volume creation date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        export_uri:
          type: string
          description: Show the volume NBD export URI
          readOnly: true
          deprecated: true
        id:
          type: string
          readOnly: true
        modification_date:
          type: string
          format: date-time
          description: The volume modification date (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
          readOnly: true
        name:
          type: string
          description: The volume name
        organization:
          type: string
          description: The volume organization ID
          deprecated: true
        project:
          type: string
          description: The volume project ID
        server:
          type: object
          description: The server attached to the volume
          readOnly: true
          properties:
            id:
              type: string
            name:
              type: string
        size:
          type: number
          description: The volume disk size (in bytes)
        state:
          $ref: '#/components/schemas/scaleway.instance.v1.VolumeServer.State'
        tags:
          type: array
          description: The volume tags
          items:
            type: string
        volume_type:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume.VolumeType'
        zone:
          type: string
          description: The zone in which is the volume
          readOnly: true
    scaleway.instance.v1.Volume.VolumeType:
      type: string
      enum:
        - l_ssd
        - b_ssd
        - unified
      default: l_ssd
    scaleway.instance.v1.VolumeServer:
      type: object
      properties:
        boot:
          type: boolean
        creation_date:
          type: string
          format: date-time
          description: (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
        export_uri:
          type: string
        id:
          type: string
        modification_date:
          type: string
          format: date-time
          description: (RFC 3339 format)
          example: "2022-03-22T12:34:56.123456Z"
        name:
          type: string
        organization:
          type: string
        project:
          type: string
        server:
          $ref: '#/components/schemas/scaleway.instance.v1.ServerSummary'
        size:
          type: number
          description: (in bytes)
        state:
          $ref: '#/components/schemas/scaleway.instance.v1.VolumeServer.State'
        volume_type:
          $ref: '#/components/schemas/scaleway.instance.v1.VolumeServer.VolumeType'
        zone:
          type: string
    scaleway.instance.v1.VolumeServer.State:
      type: string
      enum:
        - available
        - snapshotting
        - error
        - fetching
        - resizing
        - saving
        - hotsyncing
      default: available
      readOnly: true
    scaleway.instance.v1.VolumeServer.VolumeType:
      type: string
      enum:
        - l_ssd
        - b_ssd
      default: l_ssd
    scaleway.instance.v1.VolumeServerTemplate:
      type: object
      properties:
        base_snapshot:
          type: string
          description: The ID of the snapshot on which this volume will be based
        boot:
          type: boolean
          description: Force the server to boot on this volume
          default: false
        id:
          type: string
          description: UUID of the volume
        name:
          type: string
          description: Name of the volume
        organization:
          type: string
          description: Organization ID of the volume
        project:
          type: string
          description: Project ID of the volume
        size:
          type: number
          description: Disk size of the volume, must be a multiple of 512 (in bytes)
        volume_type:
          $ref: '#/components/schemas/scaleway.instance.v1.VolumeServer.VolumeType'
    scaleway.instance.v1.VolumeSummary:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        size:
          type: number
          description: (in bytes)
        volume_type:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume.VolumeType'
    scaleway.instance.v1.VolumeTemplate:
      type: object
      properties:
        id:
          type: string
          description: UUID of the volume
        name:
          type: string
          description: Name of the volume
        organization:
          type: string
          description: Organization ID of the volume
          deprecated: true
        project:
          type: string
          description: Project ID of the volume
        size:
          type: number
          description: Disk size of the volume, must be a multiple of 512 (in bytes)
        volume_type:
          $ref: '#/components/schemas/scaleway.instance.v1.Volume.VolumeType'
    scaleway.instance.v1.VolumeType:
      type: object
      properties:
        capabilities:
          $ref: '#/components/schemas/scaleway.instance.v1.VolumeType.Capabilities'
        constraints:
          $ref: '#/components/schemas/scaleway.instance.v1.VolumeType.Constraints'
        display_name:
          type: string
    scaleway.instance.v1.VolumeType.Capabilities:
      type: object
      properties:
        snapshot:
          type: boolean
    scaleway.instance.v1.VolumeType.Constraints:
      type: object
      properties:
        max:
          type: number
          description: (in bytes)
        min:
          type: number
          description: (in bytes)
    scaleway.std.File:
      type: object
      properties:
        content:
          type: string
        content_type:
          type: string
        name:
          type: string
    scaleway.std.StringsValue:
      type: array
      nullable: true
      items:
        type: string
  securitySchemes:
    scaleway:
      type: apiKey
      name: X-Auth-Token
      in: header
info:
  title: Instance API
  description: |
    # Introduction

    ## Endpoints

    Scaleway instance API can be reached on

    - `https://api.scaleway.com/instance/v1/zones/fr-par-1`
    - `https://api.scaleway.com/instance/v1/zones/fr-par-2`
    - `https://api.scaleway.com/instance/v1/zones/nl-ams-1`
    - `https://api.scaleway.com/instance/v1/zones/pl-waw-1`

    Older endpoints are still reachable but should not be used for new projects

    - `https://cp-par1.scaleway.com`
    - `https://cp-ams1.scaleway.com`

    <Example>

    The following code is an example request to retrieve detailed information about a volume:

    ```
    % curl -H 'X-Auth-Token: xxxxxxxx-xxxx-xxxxx-xxxx-xxxxxxxxxxxxx' -H 'Content-Type: application/json' https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/f929fe39-63f8-4be8-a80e-1e9c8ae22a76 -i

    HTTP/1.1 200 OK
    Server: nginx
    Date: Thu, 22 May 2014 07:55:00 GMT
    Content-Type: application/json
    Content-Length: 1345
    Connection: keep-alive
    Strict-Transport-Security: max-age=86400

    {
      "volumes": [
        {
          "export_uri": null,
          "id": "f929fe39-63f8-4be8-a80e-1e9c8ae22a76",
          "name": "volume-0-1",
          "organization": "000a115d-2852-4b0a-9ce8-47f1134ba95a",
          "server": null,
          "size": 10000000000,
          "volume_type": "l_ssd"
        },
        {
          "export_uri": null,
          "id": "0facb6b5-b117-441a-81c1-f28b1d723779",
          "name": "volume-0-2",
          "organization": "000a115d-2852-4b0a-9ce8-47f1134ba95a",
          "server": null,
          "size": 20000000000,
          "volume_type": "l_ssd"
        }
      ]
    }
    ```

    </Example>

    ## Pagination

    Most of listing requests receive a paginated response.

    **Paginated request**

    Requests against paginated endpoints accept two `query` arguments:

    - `page`, a positive integer to choose the page to return.
    - `per_page`, an positive integer lower or equal to 100 to select the number of
      items to return. The default value is `50`.

    Paginated endpoints usually also accept filters to search and sort results.
    These filters are documented along each endpoint documentation.

    **Paginated response**

    ```bash
    % curl -H 'X-Auth-Token: <token>' 'https://api.scaleway.com/instance/v1/zones/fr-par-1/images/?page=2&per_page=10' -i
    HTTP/1.0 200 OK
    [...]
    X-Total-Count: 209
    [...]
    ```

    The `X-Total-Count` header contains the total number of items for the resource.
  version: v1
paths:
  /instance/v1/zones/{zone}/bootscripts:
    get:
      tags:
        - Bootscripts
      summary: List bootscripts
      operationId: ListBootscripts
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: arch
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: title
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: default
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.BoolValue'
        - name: public
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.BoolValue'
        - name: per_page
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.UInt32Value'
        - name: page
          in: query
          description: Page number
          schema:
            type: number
            description: Page number
            default: 1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListBootscriptsResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/bootscripts/{id}:
    get:
      tags:
        - Bootscripts
      summary: Get bootscripts
      description: Get details of a bootscript with the given ID.
      operationId: GetBootscript
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetBootscriptResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/dashboard:
    get:
      operationId: GetDashboard
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: organization
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: project
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetDashboardResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/images:
    get:
      tags:
        - Images
      summary: List instance images
      description: List all images available in an account.
      operationId: ListImages
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: organization
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: per_page
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.UInt32Value'
        - name: page
          in: query
          description: Page number
          schema:
            type: number
            description: Page number
            default: 1
        - name: name
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: public
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.BoolValue'
        - name: arch
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: project
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: tags
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListImagesResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Images
      summary: Create an instance image
      operationId: CreateImage
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.Image'
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreateImageResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/images/{id}:
    delete:
      tags:
        - Images
      summary: Delete an instance image
      description: Delete the image with the given ID.
      operationId: DeleteImage
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the image you want to delete
          required: true
          schema:
            type: string
            description: UUID of the image you want to delete
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Images
      summary: Get an instance image
      description: Get details of an image with the given ID.
      operationId: GetImage
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the image you want to get
          required: true
          schema:
            type: string
            description: UUID of the image you want to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetImageResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Images
      summary: Update image
      description: Replace all image properties with an image message.
      operationId: SetImage
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                arch:
                  $ref: '#/components/schemas/scaleway.instance.v1.Arch'
                creation_date:
                  type: string
                  format: date-time
                  description: (RFC 3339 format)
                  example: "2022-03-22T12:34:56.123456Z"
                default_bootscript:
                  $ref: '#/components/schemas/scaleway.instance.v1.Bootscript'
                extra_volumes:
                  type: object
                  properties:
                    <extra_volumeKey>:
                      $ref: '#/components/schemas/scaleway.instance.v1.Volume'
                  additionalProperties: true
                from_server:
                  type: string
                modification_date:
                  type: string
                  format: date-time
                  description: (RFC 3339 format)
                  example: "2022-03-22T12:34:56.123456Z"
                name:
                  type: string
                organization:
                  type: string
                project:
                  type: string
                public:
                  type: boolean
                root_volume:
                  $ref: '#/components/schemas/scaleway.instance.v1.VolumeSummary'
                state:
                  $ref: '#/components/schemas/scaleway.instance.v1.Image.State'
                tags:
                  $ref: '#/components/schemas/scaleway.std.StringsValue'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetImageResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/ips:
    get:
      tags:
        - IPs
      summary: List all flexible IPs
      operationId: ListIps
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: project
          in: query
          description: The project ID the IPs are reserved in
          schema:
            type: string
            description: The project ID the IPs are reserved in
            nullable: true
        - name: organization
          in: query
          description: The organization ID the IPs are reserved in
          schema:
            type: string
            description: The organization ID the IPs are reserved in
            nullable: true
        - name: tags
          in: query
          description: Filter IPs with these exact tags (to filter with several tags, use commas to separate them)
          schema:
            type: string
            description: Filter IPs with these exact tags (to filter with several tags, use commas to separate them)
            nullable: true
        - name: name
          in: query
          description: Filter on the IP address (Works as a LIKE operation on the IP address)
          schema:
            type: string
            description: Filter on the IP address (Works as a LIKE operation on the IP address)
            nullable: true
        - name: per_page
          in: query
          description: A positive integer lower or equal to 100 to select the number of items to return
          schema:
            type: number
            description: A positive integer lower or equal to 100 to select the number of items to return
            default: 50
            nullable: true
        - name: page
          in: query
          description: A positive integer to choose the page to return
          schema:
            type: number
            description: A positive integer to choose the page to return
            default: 1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListIpsResponse'
      security:
        - scaleway: []
    post:
      tags:
        - IPs
      summary: Reserve a flexible IP
      operationId: CreateIp
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.Ip'
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreateIpResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/ips/{id}:
    delete:
      tags:
        - IPs
      summary: Delete a flexible IP
      description: Delete the IP with the given ID.
      operationId: DeleteIp
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: The ID or the address of the IP to delete
          required: true
          schema:
            type: string
            description: The ID or the address of the IP to delete
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - IPs
      summary: Get a flexible IP
      description: Get details of an IP with the given ID or address.
      operationId: GetIp
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: The IP ID or address to get
          required: true
          schema:
            type: string
            description: The IP ID or address to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetIpResponse'
      security:
        - scaleway: []
    patch:
      tags:
        - IPs
      summary: Update a flexible IP
      operationId: UpdateIp
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: IP ID or IP address
          required: true
          schema:
            type: string
            description: IP ID or IP address
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                reverse:
                  type: string
                  description: Reverse domain name
                  nullable: true
                server:
                  $ref: '#/components/schemas/scaleway.instance.v1.NullableStringValue'
                tags:
                  type: array
                  description: An array of keywords you want to tag this IP with
                  nullable: true
                  items:
                    type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.UpdateIpResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/placement_groups:
    get:
      tags:
        - Placement Groups
      summary: List placement groups
      description: List all placement groups.
      operationId: ListPlacementGroups
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: per_page
          in: query
          description: A positive integer lower or equal to 100 to select the number of items to return
          schema:
            type: number
            description: A positive integer lower or equal to 100 to select the number of items to return
            default: 50
            nullable: true
        - name: page
          in: query
          description: A positive integer to choose the page to return
          schema:
            type: number
            description: A positive integer to choose the page to return
            default: 1
        - name: organization
          in: query
          description: List only placement groups of this organization ID
          schema:
            type: string
            description: List only placement groups of this organization ID
            nullable: true
        - name: project
          in: query
          description: List only placement groups of this project ID
          schema:
            type: string
            description: List only placement groups of this project ID
            nullable: true
        - name: tags
          in: query
          description: List placement groups with these exact tags (to filter with several tags, use commas to separate them)
          schema:
            type: string
            description: List placement groups with these exact tags (to filter with several tags, use commas to separate them)
            nullable: true
        - name: name
          in: query
          description: Filter placement groups by name (for eg. "cluster1" will return "cluster100" and "cluster1" but not "foo")
          schema:
            type: string
            description: Filter placement groups by name (for eg. "cluster1" will return "cluster100" and "cluster1" but not "foo")
            nullable: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListPlacementGroupsResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Placement Groups
      summary: Create a placement group
      description: Create a new placement group.
      operationId: CreatePlacementGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup'
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreatePlacementGroupResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/placement_groups/{id}:
    delete:
      tags:
        - Placement Groups
      summary: Delete the given placement group
      description: Delete the given placement group.
      operationId: DeletePlacementGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the placement group you want to delete
          required: true
          schema:
            type: string
            description: UUID of the placement group you want to delete
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Placement Groups
      summary: Get a placement group
      description: Get the given placement group.
      operationId: GetPlacementGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the placement group you want to get
          required: true
          schema:
            type: string
            description: UUID of the placement group you want to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetPlacementGroupResponse'
      security:
        - scaleway: []
    patch:
      tags:
        - Placement Groups
      summary: Update a placement group
      description: Update one or more parameter of the given placement group.
      operationId: UpdatePlacementGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the placement group
          required: true
          schema:
            type: string
            description: UUID of the placement group
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of the placement group
                  nullable: true
                policy_mode:
                  $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup.PolicyMode'
                policy_type:
                  $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup.PolicyType'
                tags:
                  type: array
                  description: The tags of the placement group
                  nullable: true
                  items:
                    type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.UpdatePlacementGroupResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Placement Groups
      summary: Set placement group
      description: Set all parameters of the given placement group.
      operationId: SetPlacementGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the placement group
          required: true
          schema:
            type: string
            description: UUID of the placement group
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                organization:
                  type: string
                policy_mode:
                  $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup.PolicyMode'
                policy_type:
                  $ref: '#/components/schemas/scaleway.instance.v1.PlacementGroup.PolicyType'
                project:
                  type: string
                tags:
                  $ref: '#/components/schemas/scaleway.std.StringsValue'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetPlacementGroupResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/placement_groups/{placement_group_id}/servers:
    get:
      tags:
        - Placement Groups
      summary: Get placement group servers
      description: Get all servers belonging to the given placement group.
      operationId: GetPlacementGroupServers
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: placement_group_id
          in: path
          description: UUID of the placement group
          required: true
          schema:
            type: string
            description: UUID of the placement group
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetPlacementGroupServersResponse'
      security:
        - scaleway: []
    patch:
      tags:
        - Placement Groups
      summary: Update placement group servers
      description: Update all servers belonging to the given placement group.
      operationId: UpdatePlacementGroupServers
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: placement_group_id
          in: path
          description: UUID of the placement group
          required: true
          schema:
            type: string
            description: UUID of the placement group
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - servers
              properties:
                servers:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.UpdatePlacementGroupServersResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Placement Groups
      summary: Set placement group servers
      description: Set all servers belonging to the given placement group.
      operationId: SetPlacementGroupServers
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: placement_group_id
          in: path
          description: UUID of the placement group
          required: true
          schema:
            type: string
            description: UUID of the placement group
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                servers:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetPlacementGroupServersResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/products/servers:
    get:
      tags:
        - Server types
      summary: List server types
      description: Get server types technical details.
      operationId: ListServersTypes
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: per_page
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.UInt32Value'
        - name: page
          in: query
          description: Page number
          schema:
            type: number
            description: Page number
            default: 1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListServersTypesResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/products/servers/availability:
    get:
      tags:
        - Server types
      summary: Get availability
      description: Get availability for all server types.
      operationId: GetServerTypesAvailability
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: per_page
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.UInt32Value'
        - name: page
          in: query
          description: Page number
          schema:
            type: number
            description: Page number
            default: 1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetServerTypesAvailabilityResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/products/volumes:
    get:
      tags:
        - Volume types
      summary: List volumes types
      description: Get volumes technical details.
      operationId: ListVolumesTypes
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: per_page
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.UInt32Value'
        - name: page
          in: query
          description: Page number
          schema:
            type: number
            description: Page number
            default: 1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListVolumesTypesResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/security_groups:
    get:
      tags:
        - Security Groups
      summary: List security groups
      description: List all security groups available in an account.
      operationId: ListSecurityGroups
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: name
          in: query
          description: Name of the security group
          schema:
            type: string
            description: Name of the security group
            nullable: true
        - name: organization
          in: query
          description: The security group organization ID
          schema:
            type: string
            description: The security group organization ID
            nullable: true
        - name: project
          in: query
          description: The security group project ID
          schema:
            type: string
            description: The security group project ID
            nullable: true
        - name: tags
          in: query
          description: List security groups with these exact tags (to filter with several tags, use commas to separate them)
          schema:
            type: string
            description: List security groups with these exact tags (to filter with several tags, use commas to separate them)
            nullable: true
        - name: project_default
          in: query
          description: Filter security groups with this value for project_default
          schema:
            type: boolean
            description: Filter security groups with this value for project_default
            nullable: true
        - name: per_page
          in: query
          description: A positive integer lower or equal to 100 to select the number of items to return
          schema:
            type: number
            description: A positive integer lower or equal to 100 to select the number of items to return
            default: 50
            nullable: true
        - name: page
          in: query
          description: A positive integer to choose the page to return
          schema:
            type: number
            description: A positive integer to choose the page to return
            default: 1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListSecurityGroupsResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Security Groups
      summary: Create a security group
      operationId: CreateSecurityGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroup'
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreateSecurityGroupResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/security_groups/{id}:
    delete:
      tags:
        - Security Groups
      summary: Delete a security group
      operationId: DeleteSecurityGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          description: UUID of the security group you want to delete
          required: true
          schema:
            type: string
            description: UUID of the security group you want to delete
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Security Groups
      summary: Get a security group
      description: Get the details of a Security Group with the given ID.
      operationId: GetSecurityGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          description: UUID of the security group you want to get
          required: true
          schema:
            type: string
            description: UUID of the security group you want to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetSecurityGroupResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Security Groups
      summary: Update a security group
      description: Replace all security group properties with a security group message.
      operationId: SetSecurityGroup
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: The ID of the security group (will be ignored)
          required: true
          schema:
            type: string
            description: The ID of the security group (will be ignored)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroup'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetSecurityGroupResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/security_groups/{security_group_id}/rules:
    get:
      tags:
        - Security Groups
      summary: List rules
      operationId: ListSecurityGroupRules
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          description: UUID of the security group
          required: true
          schema:
            type: string
            description: UUID of the security group
        - name: per_page
          in: query
          description: A positive integer lower or equal to 100 to select the number of items to return
          schema:
            type: number
            description: A positive integer lower or equal to 100 to select the number of items to return
            default: 50
            nullable: true
        - name: page
          in: query
          description: A positive integer to choose the page to return
          schema:
            type: number
            description: A positive integer to choose the page to return
            default: 1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListSecurityGroupRulesResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Security Groups
      summary: Create rule
      operationId: CreateSecurityGroupRule
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          description: UUID of the security group
          required: true
          schema:
            type: string
            description: UUID of the security group
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - protocol
                - direction
                - action
                - ip_range
              properties:
                action:
                  $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule.Action'
                dest_port_from:
                  type: number
                  description: The beginning of the range of ports to apply this rule to (inclusive)
                  nullable: true
                dest_port_to:
                  type: number
                  description: The end of the range of ports to apply this rule to (inclusive)
                  nullable: true
                direction:
                  $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule.Direction'
                editable:
                  type: boolean
                  description: Indicates if this rule is editable (will be ignored)
                ip_range:
                  type: string
                  description: (IP network)
                  example: 1.2.3.4/32
                position:
                  type: number
                  description: The position of this rule in the security group rules list
                protocol:
                  $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule.Protocol'
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreateSecurityGroupRuleResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Security Groups
      summary: Update all the rules of a security group
      description: Replaces the rules of the security group with the rules provided. This endpoint supports the update of existing rules, creation of new rules and deletion of existing rules when they are not passed in the request.
      operationId: SetSecurityGroupRules
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          description: UUID of the security group to update the rules on
          required: true
          schema:
            type: string
            description: UUID of the security group to update the rules on
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rules:
                  type: array
                  description: List of rules to update in the security group
                  items:
                    $ref: '#/components/schemas/scaleway.instance.v1.SetSecurityGroupRulesRequest.Rule'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetSecurityGroupRulesResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/security_groups/{security_group_id}/rules/{id}:
    delete:
      tags:
        - Security Groups
      summary: Delete rule
      description: Delete a security group rule with the given ID.
      operationId: DeleteSecurityGroupRule
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          required: true
          schema:
            type: string
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Security Groups
      summary: Get rule
      description: Get details of a security group rule with the given ID.
      operationId: GetSecurityGroupRule
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          required: true
          schema:
            type: string
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetSecurityGroupRuleResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Security Groups
      summary: Update security group rule
      operationId: SetSecurityGroupRule
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: security_group_id
          in: path
          required: true
          schema:
            type: string
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupRule'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetSecurityGroupRuleResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/security_groups/default/rules:
    get:
      tags:
        - Security Groups
      summary: Get default rules
      description: Lists the default rules applied to all the security groups.
      operationId: ListDefaultSecurityGroupRules
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListSecurityGroupRulesResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/servers:
    get:
      tags:
        - Servers
      summary: List all servers
      operationId: ListServers
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: per_page
          in: query
          description: A positive integer lower or equal to 100 to select the number of items to return
          schema:
            type: number
            description: A positive integer lower or equal to 100 to select the number of items to return
            default: 50
            nullable: true
        - name: page
          in: query
          description: A positive integer to choose the page to return
          schema:
            type: number
            description: A positive integer to choose the page to return
            default: 1
        - name: organization
          in: query
          description: List only servers of this organization ID
          schema:
            type: string
            description: List only servers of this organization ID
            nullable: true
        - name: project
          in: query
          description: List only servers of this project ID
          schema:
            type: string
            description: List only servers of this project ID
            nullable: true
        - name: name
          in: query
          description: Filter servers by name (for eg. "server1" will return "server100" and "server1" but not "foo")
          schema:
            type: string
            description: Filter servers by name (for eg. "server1" will return "server100" and "server1" but not "foo")
            nullable: true
        - name: private_ip
          in: query
          description: List servers by private_ip (IP address)
          schema:
            type: string
            description: List servers by private_ip (IP address)
            example: 1.2.3.4
            nullable: true
        - name: without_ip
          in: query
          description: List servers that are not attached to a public IP
          schema:
            type: boolean
            description: List servers that are not attached to a public IP
            nullable: true
        - name: commercial_type
          in: query
          description: List servers of this commercial type
          schema:
            type: string
            description: List servers of this commercial type
            nullable: true
        - name: state
          in: query
          description: List servers in this state
          schema:
            type: string
            description: List servers in this state
            enum:
              - running
              - stopped
              - stopped in place
              - starting
              - stopping
              - locked
            default: running
        - name: tags
          in: query
          description: List servers with these exact tags (to filter with several tags, use commas to separate them)
          schema:
            type: string
            description: List servers with these exact tags (to filter with several tags, use commas to separate them)
            nullable: true
        - name: private_network
          in: query
          description: List servers in this Private Network
          schema:
            type: string
            description: List servers in this Private Network
            nullable: true
        - name: order
          in: query
          description: Define the order of the returned servers
          schema:
            type: string
            description: Define the order of the returned servers
            enum:
              - creation_date_desc
              - creation_date_asc
              - modification_date_desc
              - modification_date_asc
            default: creation_date_desc
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListServersResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Servers
      summary: Create a server
      description: |
        The `volumes` key is a dictionary composed of the volume position as key and the volume parameters as value.
        Depending of the volume parameters, you can achieve different behaviours :

        Create a volume from a snapshot of an image :
        Optional : `volume_type`, `size`, `boot`.
        If the `size` parameter is not set, the size of the volume will equal the size of the corresponding snapshot of the image.

        Attach an existing volume :
        Required : `id`, `name`.
        Optional : `boot`.

        Create an empty volume :
        Required : `name`, `volume_type`, `size`.
        Optional : `organization`, `project`, `boot`.

        Create a volume from a snapshot :
        Required : `base_snapshot`, `name`, `volume_type`.
        Optional : `organization`, `project`, `boot`.
      operationId: CreateServer
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - commercial_type
              properties:
                boot_type:
                  type: string
                  description: The boot type to use
                  enum:
                    - local
                    - bootscript
                    - rescue
                  default: local
                bootscript:
                  type: string
                  description: The bootscript ID to use when `boot_type` is set to `bootscript`
                  nullable: true
                commercial_type:
                  type: string
                  description: Define the server commercial type (i.e. GP1-S)
                dynamic_ip_required:
                  type: boolean
                  description: Define if a dynamic IP is required for the instance
                  nullable: true
                enable_ipv6:
                  type: boolean
                  description: True if IPv6 is enabled on the server
                image:
                  type: string
                  description: The server image ID
                name:
                  type: string
                  description: The server name
                organization:
                  type: string
                  description: The server organization ID
                  deprecated: true
                placement_group:
                  type: string
                  description: Placement group ID if server must be part of a placement group
                  nullable: true
                project:
                  type: string
                  description: The server project ID
                public_ip:
                  type: string
                  description: The ID of the reserved IP to attach to the server
                  nullable: true
                security_group:
                  type: string
                  description: The security group ID
                  nullable: true
                tags:
                  type: array
                  description: The server tags
                  items:
                    type: string
                volumes:
                  type: object
                  description: The volumes attached to the server
                  properties:
                    <volumeKey>:
                      $ref: '#/components/schemas/scaleway.instance.v1.VolumeServerTemplate'
                  additionalProperties: true
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreateServerResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/servers/{id}:
    delete:
      tags:
        - Servers
      summary: Delete a server
      description: Delete a server with the given ID.
      operationId: DeleteServer
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Servers
      summary: Get a server
      description: Get the details of a specified Server.
      operationId: GetServer
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the server you want to get
          required: true
          schema:
            type: string
            description: UUID of the server you want to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetServerResponse'
      security:
        - scaleway: []
    patch:
      tags:
        - Servers
      summary: Update a server
      operationId: UpdateServer
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the server
          required: true
          schema:
            type: string
            description: UUID of the server
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                boot_type:
                  $ref: '#/components/schemas/scaleway.instance.v1.BootType'
                bootscript:
                  $ref: '#/components/schemas/google.protobuf.StringValue'
                dynamic_ip_required:
                  $ref: '#/components/schemas/google.protobuf.BoolValue'
                enable_ipv6:
                  $ref: '#/components/schemas/google.protobuf.BoolValue'
                name:
                  type: string
                  description: Name of the server
                  nullable: true
                placement_group:
                  type: string
                  description: Placement group ID if server must be part of a placement group
                  nullable: true
                private_nics:
                  type: array
                  description: The server private NICs
                  items:
                    $ref: '#/components/schemas/scaleway.instance.v1.PrivateNIC'
                protected:
                  $ref: '#/components/schemas/google.protobuf.BoolValue'
                security_group:
                  $ref: '#/components/schemas/scaleway.instance.v1.SecurityGroupTemplate'
                tags:
                  type: array
                  description: Tags of the server
                  nullable: true
                  items:
                    type: string
                volumes:
                  type: object
                  properties:
                    <volumeKey>:
                      $ref: '#/components/schemas/scaleway.instance.v1.VolumeServerTemplate'
                  additionalProperties: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.UpdateServerResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/servers/{server_id}/action:
    get:
      tags:
        - Servers
      summary: List server actions
      description: List all actions that can currently be performed on a server.
      operationId: ListServerActions
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListServerActionsResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Servers
      summary: Perform action
      description: Perform power related actions on a server. Be wary that when terminating a server, all the attached volumes (local *and* block storage) are deleted. So, if you want to keep your local volumes, you must use the `archive` action instead of `terminate`. And if you want to keep block-storage volumes, **you must** detach it beforehand you issue the `terminate` call.  For more information, read the [Volumes](#volumes-7e8a39) documentation.
      operationId: ServerAction
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          description: UUID of the server
          required: true
          schema:
            type: string
            description: UUID of the server
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  description: The action to perform on the server
                  enum:
                    - poweron
                    - backup
                    - stop_in_place
                    - poweroff
                    - terminate
                    - reboot
                  default: poweron
                name:
                  type: string
                  description: |
                    The name of the backup you want to create.
                    This field should only be specified when performing a backup action.
                  nullable: true
                volumes:
                  $ref: '#/components/schemas/scaleway.instance.v1.ServerAction.VolumesProperties'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ServerActionResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/servers/{server_id}/private_nics:
    get:
      tags:
        - Private NICs
      summary: List all private NICs
      description: List all private NICs of a given server.
      operationId: ListPrivateNICs
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListPrivateNICsResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Private NICs
      summary: Create a private NIC connecting a server to a private network
      description: Create a private NIC connecting a server to a private network.
      operationId: CreatePrivateNIC
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - private_network_id
              properties:
                private_network_id:
                  type: string
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreatePrivateNICResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/servers/{server_id}/private_nics/{id}:
    delete:
      tags:
        - Private NICs
      summary: Delete a private NIC
      description: Delete a private NIC.
      operationId: DeletePrivateNIC
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          required: true
          schema:
            type: string
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Private NICs
      summary: Get a private NIC
      description: Get private NIC properties.
      operationId: GetPrivateNIC
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          required: true
          schema:
            type: string
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetPrivateNICResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/servers/{server_id}/user_data:
    get:
      tags:
        - User-Data
      summary: List user data
      description: List all user data keys registered on a given server.
      operationId: ListServerUserData
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          description: UUID of the server
          required: true
          schema:
            type: string
            description: UUID of the server
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListServerUserDataResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/servers/{server_id}/user_data/{key}:
    delete:
      tags:
        - User-Data
      summary: Delete user data
      description: Delete the given key from a server user data.
      operationId: DeleteServerUserData
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          description: UUID of the server
          required: true
          schema:
            type: string
            description: UUID of the server
        - name: key
          in: path
          description: Key of the user data to delete
          required: true
          schema:
            type: string
            description: Key of the user data to delete
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - User-Data
      summary: Get user data
      description: Get the content of a user data with the given key on a server.
      operationId: GetServerUserData
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          description: UUID of the server
          required: true
          schema:
            type: string
            description: UUID of the server
        - name: key
          in: path
          description: Key of the user data to get
          required: true
          schema:
            type: string
            description: Key of the user data to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.std.File'
      security:
        - scaleway: []
    patch:
      tags:
        - User-Data
      summary: Add/Set user data
      description: Add or update a user data with the given key on a server.
      operationId: SetServerUserData
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: server_id
          in: path
          description: UUID of the server
          required: true
          schema:
            type: string
            description: UUID of the server
        - name: key
          in: path
          description: Key of the user data to set
          required: true
          schema:
            type: string
            description: Key of the user data to set
      requestBody:
        required: true
        content:
          '*/*':
            schema:
              type: string
              format: binary
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/snapshots:
    get:
      tags:
        - Snapshots
      summary: List snapshots
      operationId: ListSnapshots
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: organization
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: per_page
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.UInt32Value'
        - name: page
          in: query
          description: Page number
          schema:
            type: number
            description: Page number
            default: 1
        - name: name
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: project
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
        - name: tags
          in: query
          schema:
            $ref: '#/components/schemas/google.protobuf.StringValue'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListSnapshotsResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Snapshots
      summary: Create a snapshot from a given volume or from a QCOW2 file
      operationId: CreateSnapshot
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.Snapshot'
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreateSnapshotResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/snapshots/{id}:
    delete:
      tags:
        - Snapshots
      summary: Delete a snapshot
      description: Delete the snapshot with the given ID.
      operationId: DeleteSnapshot
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: snapshot_id
          in: path
          description: UUID of the snapshot you want to delete
          required: true
          schema:
            type: string
            description: UUID of the snapshot you want to delete
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Snapshots
      summary: Get a snapshot
      description: Get details of a snapshot with the given ID.
      operationId: GetSnapshot
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the snapshot you want to get
          required: true
          schema:
            type: string
            description: UUID of the snapshot you want to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetSnapshotResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Snapshots
      summary: Update snapshot
      description: Replace all snapshot properties with a snapshot message.
      operationId: SetSnapshot
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.Snapshot'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetSnapshotResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/snapshots/{snapshot_id}/export:
    post:
      tags:
        - Snapshots
      summary: Export a snapshot
      description: Export a snapshot to a given S3 bucket in the same region.
      operationId: ExportSnapshot
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: snapshot_id
          in: path
          description: The snapshot ID
          required: true
          schema:
            type: string
            description: The snapshot ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bucket:
                  type: string
                  description: S3 bucket name
                key:
                  type: string
                  description: S3 object key
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ExportSnapshotResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/volumes:
    get:
      tags:
        - Volumes
      summary: List volumes
      operationId: ListVolumes
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: volume_type
          in: query
          description: Filter by volume type
          schema:
            type: string
            description: Filter by volume type
            enum:
              - l_ssd
              - b_ssd
              - unified
            default: l_ssd
        - name: per_page
          in: query
          description: A positive integer lower or equal to 100 to select the number of items to return
          schema:
            type: number
            description: A positive integer lower or equal to 100 to select the number of items to return
            default: 50
            nullable: true
        - name: page
          in: query
          description: A positive integer to choose the page to return
          schema:
            type: number
            description: A positive integer to choose the page to return
            default: 1
        - name: organization
          in: query
          description: Filter volume by organization ID
          schema:
            type: string
            description: Filter volume by organization ID
            nullable: true
        - name: project
          in: query
          description: Filter volume by project ID
          schema:
            type: string
            description: Filter volume by project ID
            nullable: true
        - name: tags
          in: query
          description: Filter volumes with these exact tags (to filter with several tags, use commas to separate them)
          schema:
            type: string
            description: Filter volumes with these exact tags (to filter with several tags, use commas to separate them)
            nullable: true
        - name: name
          in: query
          description: Filter volume by name (for eg. "vol" will return "myvolume" but not "data")
          schema:
            type: string
            description: Filter volume by name (for eg. "vol" will return "myvolume" but not "data")
            nullable: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.ListVolumesResponse'
      security:
        - scaleway: []
    post:
      tags:
        - Volumes
      summary: Create a volume
      operationId: CreateVolume
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.Volume'
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.CreateVolumeResponse'
      security:
        - scaleway: []
  /instance/v1/zones/{zone}/volumes/{id}:
    delete:
      tags:
        - Volumes
      summary: Delete a volume
      description: Delete the volume with the given ID.
      operationId: DeleteVolume
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the volume you want to delete
          required: true
          schema:
            type: string
            description: UUID of the volume you want to delete
      responses:
        "204":
          description: ""
      security:
        - scaleway: []
    get:
      tags:
        - Volumes
      summary: Get a volume
      description: Get details of a volume with the given ID.
      operationId: GetVolume
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the volume you want to get
          required: true
          schema:
            type: string
            description: UUID of the volume you want to get
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.GetVolumeResponse'
      security:
        - scaleway: []
    patch:
      tags:
        - Volumes
      summary: Update a volume
      description: Replace name and/or size properties of given ID volume with the given value(s). Any volume name can be changed while, for now, only `b_ssd` volume growing is supported.
      operationId: UpdateVolume
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the volume
          required: true
          schema:
            type: string
            description: UUID of the volume
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The volume name
                  nullable: true
                size:
                  type: number
                  description: The volume disk size, must be a multiple of 512 (in bytes)
                  nullable: true
                tags:
                  type: array
                  description: The tags of the volume
                  nullable: true
                  items:
                    type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.UpdateVolumeResponse'
      security:
        - scaleway: []
    put:
      tags:
        - Volumes
      summary: Update volume
      description: Replace all volume properties with a volume message.
      operationId: SetVolume
      parameters:
        - name: zone
          in: path
          description: The zone you want to target
          required: true
          schema:
            type: string
            description: The zone you want to target
            enum:
              - fr-par-1
              - fr-par-2
              - fr-par-3
              - nl-ams-1
              - nl-ams-2
              - pl-waw-1
        - name: id
          in: path
          description: UUID of the volume you want to update
          required: true
          schema:
            type: string
            description: UUID of the volume you want to update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scaleway.instance.v1.Volume'
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scaleway.instance.v1.SetVolumeResponse'
      security:
        - scaleway: []
servers:
  - url: https://api.scaleway.com
tags:
  - name: Servers
    description: |
      Server types are denomination of the different instances we provide.
      Scaleway offers **Virtual Cloud** and **dedicated GPU** instances.

      **Virtual Cloud Instances**

      Virtual cloud instances are offering the best performance/price ratio for most workloads.
      Different instance ranges are proposed:

      * The **Development** instances range provides stable and consistent performance for
        development and testing needs. Spin up a development or test environment within seconds.
        Refer to the [Development Instance offer details](https://www.scaleway.com/en/virtual-instances/play2/)
        for more information.

      * The **General Purpose** instances range is the solution for production workloads. Powerful
        AMD EPYC CPUs back those instances and offer up to 48 Cores, 256GB of RAM and storage
        options up to 600GB of replicated local NVMe SSD storage and/or up to 10TB of Block Storage.
        Refer to the [General Purpose offer details](https://www.scaleway.com/en/virtual-instances/pro2/) for more information.

      * The **Enterprise** instances range is the solution for most demanding workloads and
        mission-critical applications. Powerful AMD EPYC CPUs back those instances and
        offer up to 96 Cores, 384GB of RAM and up to 10TB of Block Storage. Refer to the
        [Enterprise offer details](https://www.scaleway.com/en/virtual-instances/enterprise/) for more information.

      **Dedicated GPU Instances**

      Scaleway GPU Instances are virtual compute instances equipped with dedicated high-end
      Nvidia graphical processing unit (GPUs). They are ideal for data processing, artificial
      intelligence, rendering and video encoding. The GPU is dedicated to each instance and
      directly exposed through PCI-e. For more information, refer to the
      [GPU Instances Developper Documentation](https://www.scaleway.com/en/docs/compute/gpu/quickstart/).
  - name: Images
    description: |
      Images are backups of your instances.
      You can reuse that image to restore your data or create a series of instances with a predefined configuration.

      An image is a complete backup of your server including all volumes.
  - name: Security Groups
    description: |
      A security group is a set of firewall rules on a set of instances.
      Security groups enable to create rules that either drop or allow incoming traffic from certain ports of your instances.

      Security Groups are stateful by default which means return traffic is automatically allowed, regardless of any rules.
      As a contrary, you have to switch in a stateless mode to define explicitly allowed.
  - name: User-Data
    description: |
      User data is a key value store API you can use to provide data from and to your server without authentication.

      As an example of use, Scaleway images contain the script scw-generate-ssh-keys which generates SSH server’s host keys then stores their fingerprints as user data under the key “ssh-host-fingerprints”.
      This way, we ensure they are really connecting to their Scaleway instance and they are not victim of a man-in-the-middle attack.

      There are two endpoints to access user data:
       - **From a running instance**, by using the metadata API at http://169.254.42.42/user_data.
         To enhance security, we only allow user data viewing and editing as root.
         To know if the query is issued by the root user, we only accept queries made from a local port below 1024 (by default, non-root users can’t bind ports below 1024).
         To specify the local port with cURL, use `curl --local-port 1-1024 http://169.254.42.42/user_data`
       - **From the instance API** at using methods described bellow.
  - name: Server types
    description: |
      Server types will answer with all instance types available in a given zone.
      Each of these types will contains all the features of the instance (CPU, RAM, Storage) with their associated pricing.
  - name: Volume types
    description: |
      Volume types will answer with all volume types available in a given zone.
      Each of these types will contains all the capabilities and constraints of the volume (min size, max size, snapshot).
  - name: IPs
    description: |
      A flexible IP address is an IP address which you hold independently of any server.
      You can attach it to any of your servers and do live migration of the IP address between your servers.

      Be aware that attaching a flexible IP address to a server will remove the previous public IP address of the server and cut any ongoing public connection to the server.
  - name: Volumes
    description: |
      A volume is where you store your data inside your instance. It
      appears as a block device on Linux that you can use to create
      a filesystem and mount it.

      We have two different types of volume (`volume_type`):
        - `l_ssd` is a local block storage: your data is downloaded on
          the hypervisor and you need to power off your instance to attach
          or detach a volume.
        - `b_ssd` is a remote block storage: your data is stored on a
          centralised cluster. You can plug and unplug a volume while
          your instance is running. As of today, `b_ssd` is only available
          for `DEV1`, `GP1` and `RENDER` offers.

      note: The `unified` volume type is not available for volumes. This
      type can only be used on snapshots.

      Minimum and maximum volume sizes for each volume types can be queried
      from the zone `/products/volumes` API endpoint. _I.e_ for:
        - `fr-par-1`  use https://api.scaleway.com/instance/v1/zones/fr-par-1/products/volumes
        - `nl-ams-1`  use https://api.scaleway.com/instance/v1/zones/nl-ams-1/products/volumes

      Each types of volumes is also subject to a global quota for the sum of all the
      volumes. This quota depends of the level of support and may be
      changed on demand.

      Be wary that when terminating an instance, if you want to keep
      your block storage volume, **you must** detach it beforehand you
      issue the `terminate` call.

      When using multiple block devices, it's advised to mount them by
      using their UUID instead of their device name. A device name is
      subject to change depending on the volumes order. Block devices
      UUIDs can be found in `/dev/disk/by-id/`.
  - name: Snapshots
    description: |
      Snapshots contain the data of a specific volume at a particular point in time.
      The data can include the instance's operating system,
      configuration information or files stored on the volume.

      A snapshot can be done from a specific volume (for example you
      have a server with a volume containing the OS and another one
      containing the application data, and you want to use different
      snapshot strategies on both volumes).

      A snapshot's volume type can be either its original volume's type
      (`l_ssd` or `b_ssd`) or `unified`. Similarly, volumes can be created as well from snapshots
      of their own type or `unified`. Therefore, to migrate data from a `l_ssd` volume
      to a `b_ssd` volume, one can create a `unified` snapshot from the original volume
      and a new `b_ssd` volume from this snapshot. The newly created volume will hold a copy
      of the data of the original volume.
  - name: Bootscripts
    description: |
      Bootscripts are a combination of a [Kernel](https://en.wikipedia.org/wiki/Kernel_(operating_system)) and of an [initrd](https://en.wikipedia.org/wiki/Initial_ramdisk).
      They tell to the instance how to start and configure its starting process and settings.

      Bootscripts are available on all of instances types (DEV, GP, RENDER, ARM).

      Scaleway recommends that you take the "localboot" boot method that will automatically launch your instance with your locally installed kernel.
      It gives you full control over the booting process of your instance.

      Scaleway also provides a "rescue" bootscript that can be used when your instance gets a failure and if you need a clean operating system to access your data.
  - name: Placement Groups
    description: |
      Placement groups allow the user to express a preference regarding
      the physical position of a group of instances. It'll let the user
      choose to either group instances on the same physical hardware for
      best network throughput and low latency or to spread instances on
      far away hardware to reduce the risk of physical failure.

      The operating mode is selected by a `policy_type`. Two policy
      types are available:
        - `low_latency` will group instances on the same hypervisors
        - `max_availability` will spread instances on far away hypervisors

      The `policy_type` is set by default to `max_availability`.

      For each policy types, one of the two `policy_mode` may be selected:
        - `optional` will start your instances even if the constraint is not respected
        - `enforced` guarantee that if the instance starts, the constraint is respected

      The `policy_mode` is set by default to `optional`.
  - name: Private NICs
    description: |
      A Private NIC is the network interface that connects a server to a
      Private Network. There can be at most one Private NIC connecting a
      server to a network.
